<Window x:Class="WPFCatLoaf.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Cat Loaf Cafe - Đăng nhập" 
        Height="650" Width="900" MinHeight="600" MinWidth="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="{DynamicResource MaterialDesignPaper}"
        Loaded="LoginWindow_Loaded">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <materialDesign:BundledTheme BaseTheme="Light" PrimaryColor="Orange" SecondaryColor="Brown" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="400"/>
            <ColumnDefinition Width="420" MinWidth="380"/>
        </Grid.ColumnDefinitions>

        <!-- Left side - Cat cafe image/decoration -->
        <Grid Grid.Column="0" Background="{DynamicResource PrimaryHueMidBrush}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <materialDesign:PackIcon Kind="Cat" Width="120" Height="120" Foreground="White"/>
                <TextBlock Text="Cat Loaf Cafe" FontSize="36" FontWeight="Bold" 
                          Foreground="White" HorizontalAlignment="Center" Margin="0,20,0,0"
                          TextWrapping="Wrap"/>
                <TextBlock Text="Quán cà phê mèo yêu thương" FontSize="16" 
                          Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,20"
                          TextWrapping="Wrap"/>
                <TextBlock Text="🐱 Nơi mèo cưng và cà phê hòa quyện 🐱" FontSize="14" 
                          Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,0"
                          TextWrapping="Wrap" Opacity="0.9"/>
            </StackPanel>
        </Grid>

        <!-- Right side - Login form with ScrollViewer -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" 
                      HorizontalScrollBarVisibility="Disabled">
            <materialDesign:Card Margin="25" Padding="35" MinHeight="520">
                <StackPanel>
                    <TextBlock Text="Đăng nhập" FontSize="28" FontWeight="Bold" 
                              HorizontalAlignment="Center" Margin="0,0,0,30"
                              Foreground="{DynamicResource PrimaryHueMidBrush}"/>

                    <!-- Email field -->
                    <TextBox x:Name="EmailTextBox" 
                            materialDesign:HintAssist.Hint="Email"
                            Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                            Margin="0,10" FontSize="14" Height="50"/>

                    <!-- Password with show/hide functionality -->
                    <Grid Margin="0,10">
                        <PasswordBox x:Name="PasswordBox" 
                                    materialDesign:HintAssist.Hint="Mật khẩu"
                                    Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                    FontSize="14" Height="50"/>

                        <TextBox x:Name="PasswordTextBox" 
                                materialDesign:HintAssist.Hint="Mật khẩu"
                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                FontSize="14" Height="50" Visibility="Collapsed"/>

                        <Button x:Name="ShowPasswordButton" 
                               Style="{StaticResource MaterialDesignIconButton}"
                               HorizontalAlignment="Right" VerticalAlignment="Bottom"
                               Width="30" Height="30" Margin="0,0,8,10"
                               Click="ShowPasswordButton_Click">
                            <materialDesign:PackIcon x:Name="ShowPasswordIcon" Kind="Eye" Width="18" Height="18"/>
                        </Button>
                    </Grid>

                    <!-- Role selection -->
                    <StackPanel Orientation="Horizontal" Margin="0,20" HorizontalAlignment="Center">
                        <RadioButton x:Name="CustomerRadio" Content="Khách hàng" IsChecked="True" 
                                    Margin="0,0,30,0" FontSize="14"/>
                        <RadioButton x:Name="StaffRadio" Content="Nhân viên" FontSize="14"/>
                    </StackPanel>

                    <!-- Error message -->
                    <TextBlock x:Name="ErrorMessageText" 
                              Foreground="Red" FontSize="12" 
                              HorizontalAlignment="Center" 
                              Margin="0,10,0,0" 
                              Visibility="Collapsed"/>

                    <!-- Login button -->
                    <Button x:Name="LoginButton" 
                           Content="ĐĂNG NHẬP" 
                           Style="{StaticResource MaterialDesignRaisedButton}"
                           Background="{DynamicResource PrimaryHueMidBrush}"
                           Foreground="White"
                           FontSize="14" FontWeight="Bold"
                           Height="45" Margin="0,25,0,15"
                           Click="LoginButton_Click"/>

                    <!-- Register link -->
                    <TextBlock HorizontalAlignment="Center" Margin="0,15,0,0">
                        <Run Text="Chưa có tài khoản? "/><Hyperlink x:Name="RegisterLink" Click="RegisterLink_Click" Foreground="{DynamicResource PrimaryHueMidBrush}">Đăng ký ngay</Hyperlink>
                    </TextBlock>

                    <!-- Loading indicator -->
                    <ProgressBar x:Name="LoadingProgressBar" 
                                Style="{StaticResource MaterialDesignCircularProgressBar}"
                                Value="0" IsIndeterminate="True"
                                Width="40" Height="40"
                                Margin="0,20,0,0"
                                Visibility="Collapsed"/>
                </StackPanel>
            </materialDesign:Card>
        </ScrollViewer>
    </Grid>
</Window>